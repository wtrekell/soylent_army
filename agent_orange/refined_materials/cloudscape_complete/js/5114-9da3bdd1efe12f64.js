(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5114],{89184:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(83780),i=n(7653),o=n(4909),a=n(54981),s=n(21278);n(19288);var l={label:"awsui_label_13tpe_9w8pd_5","native-input":"awsui_native-input_13tpe_9w8pd_6"};n(89225);var c={content:"awsui_content_1wepg_fp1bh_145",description:"awsui_description_1wepg_fp1bh_146",label:"awsui_label_1wepg_fp1bh_147",outline:"awsui_outline_1wepg_fp1bh_155","show-outline":"awsui_show-outline_1wepg_fp1bh_158","native-input":"awsui_native-input_1wepg_fp1bh_162",wrapper:"awsui_wrapper_1wepg_fp1bh_166","label-wrapper":"awsui_label-wrapper_1wepg_fp1bh_172","empty-content":"awsui_empty-content_1wepg_fp1bh_183","description-bottom-padding":"awsui_description-bottom-padding_1wepg_fp1bh_193","label-disabled":"awsui_label-disabled_1wepg_fp1bh_201","description-disabled":"awsui_description-disabled_1wepg_fp1bh_202",control:"awsui_control_1wepg_fp1bh_206"};function u(e){return e.filter(e=>!!e).join(" ")}function d(e){var{controlId:t,controlClassName:n,outlineClassName:d,showOutline:p,disabled:f,readOnly:h,nativeControl:E,styledControl:_,label:g,description:b,descriptionBottomPadding:v,ariaLabel:y,ariaLabelledby:m,ariaDescribedby:O,ariaControls:S,onClick:L,__internalRootRef:C}=e,T=(0,r._T)(e,["controlId","controlClassName","outlineClassName","showOutline","disabled","readOnly","nativeControl","styledControl","label","description","descriptionBottomPadding","ariaLabel","ariaLabelledby","ariaDescribedby","ariaControls","onClick","__internalRootRef"]);let I=(0,a.L)(),A=t||I,D=`${A}-label`,w=`${A}-description`,N=[];g&&!y&&N.push(D),m&&N.push(m);let B=[];return O&&B.push(O),b&&B.push(w),i.createElement("span",Object.assign({},T,{className:(0,o.Z)(c.wrapper,T.className),ref:C},(0,s.gb)(g?`.${l.label}`:`.${l["native-input"]}`)),i.createElement("span",Object.assign({className:c["label-wrapper"],"aria-disabled":f?"true":void 0,onClick:f||h?void 0:L},(0,s.Gp)(f||h?{}:{action:"select",detail:{label:g?`.${l.label}`:`.${l["native-input"]}`}})),i.createElement("span",{className:(0,o.Z)(c.control,n)},_,E({id:A,disabled:f,className:(0,o.Z)(c["native-input"],l["native-input"]),"aria-describedby":B.length?u(B):void 0,"aria-labelledby":N.length?u(N):void 0,"aria-label":y,"aria-controls":S}),i.createElement("span",{className:(0,o.Z)(c.outline,d,p&&c["show-outline"])})),i.createElement("span",{className:(0,o.Z)(c.content,!g&&!b&&c["empty-content"])},g&&i.createElement("span",{id:D,className:(0,o.Z)(c.label,l.label,{[c["label-disabled"]]:f})},g),b&&i.createElement("span",{id:w,className:(0,o.Z)(c.description,{[c["description-disabled"]]:f,[c["description-bottom-padding"]]:v})},b))))}},98513:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(83780),i=n(7653),o=n(4909),a=n(21278),s=n(18920),l=n(89184),c=n(50028),u=n(99797),d=n(65809);n(81319);var p=i.forwardRef((e,t)=>{var{controlId:n,checked:p,name:f,disabled:h,readOnly:E,children:_,description:g,ariaLabel:b,ariaControls:v,onFocus:y,onBlur:m,onChange:O,__internalRootRef:S=null,__injectAnalyticsComponentMetadata:L}=e,C=(0,r._T)(e,["controlId","checked","name","disabled","readOnly","children","description","ariaLabel","ariaControls","onFocus","onBlur","onChange","__internalRootRef","__injectAnalyticsComponentMetadata"]);let{ariaDescribedby:T,ariaLabelledby:I}=(0,c.e)(C),A=(0,s.jm)(C),D=(0,i.useRef)(null),w={};return L&&(w.component={name:"awsui.Toggle",label:{root:"self"}}),h||E||(w.action=p?"deselect":"select"),(0,d.Z)(t,D),i.createElement(l.Z,Object.assign({},A,{className:(0,o.Z)("awsui_root_4yi2u_17q58_145",A.className),controlClassName:(0,o.Z)("awsui_toggle-control_4yi2u_17q58_200",{"awsui_toggle-control-checked_4yi2u_17q58_213":p,"awsui_toggle-control-disabled_4yi2u_17q58_216":h,"awsui_toggle-control-readonly_4yi2u_17q58_222":E}),outlineClassName:"awsui_outline_4yi2u_17q58_178",controlId:n,disabled:h,readOnly:E,label:_,description:g,descriptionBottomPadding:!0,ariaLabel:b,ariaLabelledby:I,ariaDescribedby:T,ariaControls:v,nativeControl:e=>i.createElement("input",Object.assign({},e,{ref:D,type:"checkbox",checked:p,name:f,"aria-disabled":E&&!h?"true":void 0,onFocus:()=>(0,u.B4)(y),onBlur:()=>(0,u.B4)(m),onChange:()=>{}})),onClick:()=>{var e;null===(e=D.current)||void 0===e||e.focus(),(0,u.B4)(O,{checked:!p})},styledControl:i.createElement("span",{className:(0,o.Z)("awsui_toggle-handle_4yi2u_17q58_226",{"awsui_toggle-handle-checked_4yi2u_17q58_251":p,"awsui_toggle-handle-disabled_4yi2u_17q58_258":h,"awsui_toggle-handle-readonly_4yi2u_17q58_262":E})}),__internalRootRef:S},(0,a.Gp)(w)))})},66857:function(e,t,n){"use strict";var r,i,o,a,s,l,c,u,d,p,f,h,E,_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},g={},b={};Object.defineProperty(b,"__esModule",{value:!0}),b.BLOCKS=void 0,(r=f||(b.BLOCKS=f={})).DOCUMENT="document",r.PARAGRAPH="paragraph",r.HEADING_1="heading-1",r.HEADING_2="heading-2",r.HEADING_3="heading-3",r.HEADING_4="heading-4",r.HEADING_5="heading-5",r.HEADING_6="heading-6",r.OL_LIST="ordered-list",r.UL_LIST="unordered-list",r.LIST_ITEM="list-item",r.HR="hr",r.QUOTE="blockquote",r.EMBEDDED_ENTRY="embedded-entry-block",r.EMBEDDED_ASSET="embedded-asset-block",r.EMBEDDED_RESOURCE="embedded-resource-block",r.TABLE="table",r.TABLE_ROW="table-row",r.TABLE_CELL="table-cell",r.TABLE_HEADER_CELL="table-header-cell";var v={};Object.defineProperty(v,"__esModule",{value:!0}),v.INLINES=void 0,(i=h||(v.INLINES=h={})).ASSET_HYPERLINK="asset-hyperlink",i.EMBEDDED_ENTRY="embedded-entry-inline",i.EMBEDDED_RESOURCE="embedded-resource-inline",i.ENTRY_HYPERLINK="entry-hyperlink",i.HYPERLINK="hyperlink",i.RESOURCE_HYPERLINK="resource-hyperlink";var y={};Object.defineProperty(y,"__esModule",{value:!0}),y.MARKS=void 0,(o=E||(y.MARKS=E={})).BOLD="bold",o.ITALIC="italic",o.UNDERLINE="underline",o.CODE="code",o.SUPERSCRIPT="superscript",o.SUBSCRIPT="subscript",o.STRIKETHROUGH="strikethrough";var m={};s=_&&_.__spreadArray||function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Object.defineProperty(m,"__esModule",{value:!0}),m.V1_MARKS=m.V1_NODE_TYPES=m.TEXT_CONTAINERS=m.HEADINGS=m.CONTAINERS=m.VOID_BLOCKS=m.TABLE_BLOCKS=m.LIST_ITEM_BLOCKS=m.TOP_LEVEL_BLOCKS=void 0,m.TOP_LEVEL_BLOCKS=[b.BLOCKS.PARAGRAPH,b.BLOCKS.HEADING_1,b.BLOCKS.HEADING_2,b.BLOCKS.HEADING_3,b.BLOCKS.HEADING_4,b.BLOCKS.HEADING_5,b.BLOCKS.HEADING_6,b.BLOCKS.OL_LIST,b.BLOCKS.UL_LIST,b.BLOCKS.HR,b.BLOCKS.QUOTE,b.BLOCKS.EMBEDDED_ENTRY,b.BLOCKS.EMBEDDED_ASSET,b.BLOCKS.EMBEDDED_RESOURCE,b.BLOCKS.TABLE],m.LIST_ITEM_BLOCKS=[b.BLOCKS.PARAGRAPH,b.BLOCKS.HEADING_1,b.BLOCKS.HEADING_2,b.BLOCKS.HEADING_3,b.BLOCKS.HEADING_4,b.BLOCKS.HEADING_5,b.BLOCKS.HEADING_6,b.BLOCKS.OL_LIST,b.BLOCKS.UL_LIST,b.BLOCKS.HR,b.BLOCKS.QUOTE,b.BLOCKS.EMBEDDED_ENTRY,b.BLOCKS.EMBEDDED_ASSET,b.BLOCKS.EMBEDDED_RESOURCE],m.TABLE_BLOCKS=[b.BLOCKS.TABLE,b.BLOCKS.TABLE_ROW,b.BLOCKS.TABLE_CELL,b.BLOCKS.TABLE_HEADER_CELL],m.VOID_BLOCKS=[b.BLOCKS.HR,b.BLOCKS.EMBEDDED_ENTRY,b.BLOCKS.EMBEDDED_ASSET,b.BLOCKS.EMBEDDED_RESOURCE],m.CONTAINERS=((a={})[b.BLOCKS.OL_LIST]=[b.BLOCKS.LIST_ITEM],a[b.BLOCKS.UL_LIST]=[b.BLOCKS.LIST_ITEM],a[b.BLOCKS.LIST_ITEM]=m.LIST_ITEM_BLOCKS,a[b.BLOCKS.QUOTE]=[b.BLOCKS.PARAGRAPH],a[b.BLOCKS.TABLE]=[b.BLOCKS.TABLE_ROW],a[b.BLOCKS.TABLE_ROW]=[b.BLOCKS.TABLE_CELL,b.BLOCKS.TABLE_HEADER_CELL],a[b.BLOCKS.TABLE_CELL]=[b.BLOCKS.PARAGRAPH,b.BLOCKS.UL_LIST,b.BLOCKS.OL_LIST],a[b.BLOCKS.TABLE_HEADER_CELL]=[b.BLOCKS.PARAGRAPH],a),m.HEADINGS=[b.BLOCKS.HEADING_1,b.BLOCKS.HEADING_2,b.BLOCKS.HEADING_3,b.BLOCKS.HEADING_4,b.BLOCKS.HEADING_5,b.BLOCKS.HEADING_6],m.TEXT_CONTAINERS=s([b.BLOCKS.PARAGRAPH],m.HEADINGS,!0),m.V1_NODE_TYPES=[b.BLOCKS.DOCUMENT,b.BLOCKS.PARAGRAPH,b.BLOCKS.HEADING_1,b.BLOCKS.HEADING_2,b.BLOCKS.HEADING_3,b.BLOCKS.HEADING_4,b.BLOCKS.HEADING_5,b.BLOCKS.HEADING_6,b.BLOCKS.OL_LIST,b.BLOCKS.UL_LIST,b.BLOCKS.LIST_ITEM,b.BLOCKS.HR,b.BLOCKS.QUOTE,b.BLOCKS.EMBEDDED_ENTRY,b.BLOCKS.EMBEDDED_ASSET,v.INLINES.HYPERLINK,v.INLINES.ENTRY_HYPERLINK,v.INLINES.ASSET_HYPERLINK,v.INLINES.EMBEDDED_ENTRY,"text"],m.V1_MARKS=[y.MARKS.BOLD,y.MARKS.CODE,y.MARKS.ITALIC,y.MARKS.UNDERLINE];var O={};Object.defineProperty(O,"__esModule",{value:!0});var S={};Object.defineProperty(S,"__esModule",{value:!0});var L={};Object.defineProperty(L,"__esModule",{value:!0}),L.EMPTY_DOCUMENT=void 0,L.EMPTY_DOCUMENT={nodeType:b.BLOCKS.DOCUMENT,data:{},content:[{nodeType:b.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]};var C={};function T(e,t){for(var n=0,r=Object.keys(e);n<r.length;n++)if(t===e[r[n]])return!0;return!1}Object.defineProperty(C,"__esModule",{value:!0}),C.isInline=function(e){return T(v.INLINES,e.nodeType)},C.isBlock=function(e){return T(b.BLOCKS,e.nodeType)},C.isText=function(e){return"text"===e.nodeType};var I={};Object.defineProperty(I,"__esModule",{value:!0}),I.getSchemaWithNodeType=function(e){try{return function(e){throw Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}("./generated/".concat(e,".json"))}catch(t){throw Error('Schema for nodeType "'.concat(e,'" was not found.'))}},l=_&&_.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),c=_&&_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=_&&_.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||l(t,e,n)},d=_&&_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&l(t,e,n);return c(t,e),t},Object.defineProperty(g,"__esModule",{value:!0}),g.getSchemaWithNodeType=g.helpers=g.EMPTY_DOCUMENT=g.MARKS=g.INLINES=g.BLOCKS=void 0,Object.defineProperty(g,"BLOCKS",{enumerable:!0,get:function(){return b.BLOCKS}}),Object.defineProperty(g,"INLINES",{enumerable:!0,get:function(){return v.INLINES}}),Object.defineProperty(g,"MARKS",{enumerable:!0,get:function(){return y.MARKS}}),u(m,g),u(O,g),u(S,g),Object.defineProperty(g,"EMPTY_DOCUMENT",{enumerable:!0,get:function(){return L.EMPTY_DOCUMENT}}),p=d(C),g.helpers=p,Object.defineProperty(g,"getSchemaWithNodeType",{enumerable:!0,get:function(){return I.getSchemaWithNodeType}}),t.a=function e(t,n){return(void 0===n&&(n=" "),t&&t.content&&Array.isArray(t.content))?t.content.reduce(function(r,i,o){if(g.helpers.isText(i))a=i.value;else if((g.helpers.isBlock(i)||g.helpers.isInline(i))&&!(a=e(i,n)).length)return r;var a,s=t.content[o+1];return r+a+(s&&g.helpers.isBlock(s)?n:"")},""):""}},19288:function(){},89225:function(){},81319:function(){},95915:function(e,t,n){"use strict";let r,i,o;n.d(t,{Dk:function(){return er},$Q:function(){return ei}});var a,s,l,c,u,d,p=n(27573),f=n(7653),h=Object.defineProperty,E=(e,t,n)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_=(e,t,n)=>E(e,"symbol"!=typeof t?t+"":t,n),g={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},b={0:8203,1:8204,2:8205,3:65279},v=[,,,,].fill(String.fromCodePoint(b[0])).join(""),y=Object.fromEntries(Object.entries(b).map(e=>e.reverse())),m=Object.fromEntries(Object.entries(g).map(e=>e.reverse())),O=`${Object.values(g).map(e=>`\\u{${e.toString(16)}}`).join("")}`,S=RegExp(`[${O}]{4,}`,"gu");!function(){if(!u){u=1;var e=function(){if(l)return s;l=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString;return s=function(n,r,i){if("[object Function]"!==t.call(r))throw TypeError("iterator must be a function");var o=n.length;if(o===+o)for(var a=0;a<o;a++)r.call(i,n[a],a,n);else for(var s in n)e.call(n,s)&&r.call(i,n[s],s,n)}}();t.get=function(e,n){for(var r=Array.isArray(n)?n:t.parse(n),i=0;i<r.length;++i){var o=r[i];if(!("object"==typeof e&&o in e))throw Error("Invalid reference token: "+o);e=e[o]}return e},t.set=function(e,n,r){var i=Array.isArray(n)?n:t.parse(n),o=i[0];if(0===i.length)throw Error("Can not set the root object");for(var a=0;a<i.length-1;++a){var s=i[a];"string"!=typeof s&&"number"!=typeof s&&(s=String(s)),"__proto__"===s||"constructor"===s||"prototype"===s||("-"===s&&Array.isArray(e)&&(s=e.length),o=i[a+1],s in e||(o.match(/^(\d+|-)$/)?e[s]=[]:e[s]={}),e=e[s])}return"-"===o&&Array.isArray(e)&&(o=e.length),e[o]=r,this},t.remove=function(e,n){var r=Array.isArray(n)?n:t.parse(n),i=r[r.length-1];if(void 0===i)throw Error('Invalid JSON pointer for remove: "'+n+'"');var o=t.get(e,r.slice(0,-1));if(Array.isArray(o)){var a=+i;if(""===i&&isNaN(a))throw Error('Invalid array index: "'+i+'"');Array.prototype.splice.call(o,a,1)}else delete o[i]},t.dict=function(e,n){var r={};return t.walk(e,function(e,t){r[t]=e},n),r},t.walk=function(n,r,i){var o=[];i=i||function(e){var t=Object.prototype.toString.call(e);return"[object Object]"===t||"[object Array]"===t},function n(a){e(a,function(e,a){o.push(String(a)),i(e)?n(e):r(e,t.compile(o)),o.pop()})}(n)},t.has=function(e,n){try{t.get(e,n)}catch{return!1}return!0},t.escape=function(e){return e.toString().replace(/~/g,"~0").replace(/\//g,"~1")},t.unescape=function(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")},t.parse=function(e){if(""===e)return[];if("/"!==e.charAt(0))throw Error("Invalid JSON pointer: "+e);return e.substring(1).split(/\//).map(t.unescape)},t.compile=function(e){return 0===e.length?"":"/"+e.map(t.escape).join("/")}}function t(e,n,r){if(3==arguments.length)return t.set(e,n,r);if(2==arguments.length)return t.get(e,n);var i=t.bind(t,e);for(var o in t)t.hasOwnProperty(o)&&(i[o]=t[o].bind(i,e));return i}}();let L=!1,C=e=>(...t)=>{L&&console[e](...t)},T={error:C("error"),warn:C("warn"),log:C("log")};function I(e,t,n){let r={...t,method:e,source:"live-preview-sdk",location:window.location.href,version:"4.6.9"};T.log("Send message",r),n.forEach(e=>{var t;null==(t=window.top)||t.postMessage(r,e)})}var A="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof global?global:"u">typeof self?self:{},D={exports:{}};D.exports;let w=(d||(d=1,function(e,t){var n,r,i,o="__lodash_hash_undefined__",a="[object Arguments]",s="[object Array]",l="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Function]",p="[object Map]",f="[object Number]",h="[object Object]",E="[object Promise]",_="[object RegExp]",g="[object Set]",b="[object String]",v="[object WeakMap]",y="[object ArrayBuffer]",m="[object DataView]",O=/^\[object .+?Constructor\]$/,S=/^(?:0|[1-9]\d*)$/,L={};L["[object Float32Array]"]=L["[object Float64Array]"]=L["[object Int8Array]"]=L["[object Int16Array]"]=L["[object Int32Array]"]=L["[object Uint8Array]"]=L["[object Uint8ClampedArray]"]=L["[object Uint16Array]"]=L["[object Uint32Array]"]=!0,L[a]=L[s]=L[y]=L[l]=L[m]=L[c]=L[u]=L[d]=L[p]=L[f]=L[h]=L[_]=L[g]=L[b]=L[v]=!1;var C="object"==typeof A&&A&&A.Object===Object&&A,T="object"==typeof self&&self&&self.Object===Object&&self,I=C||T||Function("return this")(),D=t&&!t.nodeType&&t,w=D&&e&&!e.nodeType&&e,N=w&&w.exports===D,B=N&&C.process,R=function(){try{return B&&B.binding&&B.binding("util")}catch{}}(),M=R&&R.isTypedArray;function K(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function j(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var P=Array.prototype,U=Function.prototype,G=Object.prototype,H=I["__core-js_shared__"],k=U.toString,x=G.hasOwnProperty,z=(n=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Y=G.toString,$=RegExp("^"+k.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=N?I.Buffer:void 0,V=I.Symbol,q=I.Uint8Array,Z=G.propertyIsEnumerable,W=P.splice,J=V?V.toStringTag:void 0,Q=Object.getOwnPropertySymbols,X=F?F.isBuffer:void 0,ee=(r=Object.keys,i=Object,function(e){return r(i(e))}),et=eC(I,"DataView"),en=eC(I,"Map"),er=eC(I,"Promise"),ei=eC(I,"Set"),eo=eC(I,"WeakMap"),ea=eC(Object,"create"),es=eA(et),el=eA(en),ec=eA(er),eu=eA(ei),ed=eA(eo),ep=V?V.prototype:void 0,ef=ep?ep.valueOf:void 0;function eh(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function eE(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function e_(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function eg(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new e_;++t<n;)this.add(e[t])}function eb(e){var t=this.__data__=new eE(e);this.size=t.size}function ev(e,t){for(var n=e.length;n--;)if(eD(e[n][0],t))return n;return -1}function ey(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":J&&J in Object(e)?function(e){var t=x.call(e,J),n=e[J];try{e[J]=void 0;var r=!0}catch{}var i=Y.call(e);return r&&(t?e[J]=n:delete e[J]),i}(e):Y.call(e)}function em(e){return ej(e)&&ey(e)==a}function eO(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var u=-1,d=!0,p=2&n?new eg:void 0;for(o.set(e,t),o.set(t,e);++u<s;){var f=e[u],h=t[u];if(r)var E=a?r(h,f,u,t,e,o):r(f,h,u,e,t,o);if(void 0!==E){if(E)continue;d=!1;break}if(p){if(!function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}(t,function(e,t){if(!p.has(t)&&(f===e||i(f,e,n,r,o)))return p.push(t)})){d=!1;break}}else if(!(f===h||i(f,h,n,r,o))){d=!1;break}}return o.delete(e),o.delete(t),d}function eS(e){var t;return t=function(e){return null!=e&&eM(e.length)&&!eR(e)?function(e,t){var n,r=eN(e),i=!r&&ew(e),o=!r&&!i&&eB(e),a=!r&&!i&&!o&&eP(e),s=r||i||o||a,l=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=l.length;for(var u in e)x.call(e,u)&&!(s&&("length"==u||o&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||(n=(n=c)??9007199254740991)&&("number"==typeof u||S.test(u))&&u>-1&&u%1==0&&u<n))&&l.push(u);return l}(e):function(e){if(t=e&&e.constructor,e!==("function"==typeof t&&t.prototype||G))return ee(e);var t,n=[];for(var r in Object(e))x.call(e,r)&&"constructor"!=r&&n.push(r);return n}(e)}(e),eN(e)?t:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(t,eT(e))}function eL(e,t){var n,r=e.__data__;return("string"==(n=typeof t)||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t)?r["string"==typeof t?"string":"hash"]:r.map}function eC(e,t){var n=null==e?void 0:e[t];return!(!eK(n)||z&&z in n)&&(eR(n)?$:O).test(eA(n))?n:void 0}eh.prototype.clear=function(){this.__data__=ea?ea(null):{},this.size=0},eh.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},eh.prototype.get=function(e){var t=this.__data__;if(ea){var n=t[e];return n===o?void 0:n}return x.call(t,e)?t[e]:void 0},eh.prototype.has=function(e){var t=this.__data__;return ea?void 0!==t[e]:x.call(t,e)},eh.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ea&&void 0===t?o:t,this},eE.prototype.clear=function(){this.__data__=[],this.size=0},eE.prototype.delete=function(e){var t=this.__data__,n=ev(t,e);return!(n<0)&&(n==t.length-1?t.pop():W.call(t,n,1),--this.size,!0)},eE.prototype.get=function(e){var t=this.__data__,n=ev(t,e);return n<0?void 0:t[n][1]},eE.prototype.has=function(e){return ev(this.__data__,e)>-1},eE.prototype.set=function(e,t){var n=this.__data__,r=ev(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},e_.prototype.clear=function(){this.size=0,this.__data__={hash:new eh,map:new(en||eE),string:new eh}},e_.prototype.delete=function(e){var t=eL(this,e).delete(e);return this.size-=t?1:0,t},e_.prototype.get=function(e){return eL(this,e).get(e)},e_.prototype.has=function(e){return eL(this,e).has(e)},e_.prototype.set=function(e,t){var n=eL(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},eg.prototype.add=eg.prototype.push=function(e){return this.__data__.set(e,o),this},eg.prototype.has=function(e){return this.__data__.has(e)},eb.prototype.clear=function(){this.__data__=new eE,this.size=0},eb.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},eb.prototype.get=function(e){return this.__data__.get(e)},eb.prototype.has=function(e){return this.__data__.has(e)},eb.prototype.set=function(e,t){var n=this.__data__;if(n instanceof eE){var r=n.__data__;if(!en||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new e_(r)}return n.set(e,t),this.size=n.size,this};var eT=Q?function(e){return null==e?[]:function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}(Q(e=Object(e)),function(t){return Z.call(e,t)})}:function(){return[]},eI=ey;function eA(e){if(null!=e){try{return k.call(e)}catch{}try{return e+""}catch{}}return""}function eD(e,t){return e===t||e!=e&&t!=t}(et&&eI(new et(new ArrayBuffer(1)))!=m||en&&eI(new en)!=p||er&&eI(er.resolve())!=E||ei&&eI(new ei)!=g||eo&&eI(new eo)!=v)&&(eI=function(e){var t=ey(e),n=t==h?e.constructor:void 0,r=n?eA(n):"";if(r)switch(r){case es:return m;case el:return p;case ec:return E;case eu:return g;case ed:return v}return t});var ew=em(function(){return arguments}())?em:function(e){return ej(e)&&x.call(e,"callee")&&!Z.call(e,"callee")},eN=Array.isArray,eB=X||function(){return!1};function eR(e){if(!eK(e))return!1;var t=ey(e);return t==d||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function eM(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function eK(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ej(e){return null!=e&&"object"==typeof e}var eP=M?function(e){return M(e)}:function(e){return ej(e)&&eM(e.length)&&!!L[ey(e)]};e.exports=function(e,t){return function e(t,n,r,i,o){return t===n||(null!=t&&null!=n&&(ej(t)||ej(n))?function(e,t,n,r,i,o){var d=eN(e),E=eN(t),v=d?s:eI(e),O=E?s:eI(t);v=v==a?h:v,O=O==a?h:O;var S=v==h,L=O==h,C=v==O;if(C&&eB(e)){if(!eB(t))return!1;d=!0,S=!1}if(C&&!S)return o||(o=new eb),d||eP(e)?eO(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(n){case m:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case y:return!(e.byteLength!=t.byteLength||!o(new q(e),new q(t)));case l:case c:case f:return eD(+e,+t);case u:return e.name==t.name&&e.message==t.message;case _:case b:return e==t+"";case p:var s=K;case g:var d=1&r;if(s||(s=j),e.size!=t.size&&!d)break;var h=a.get(e);if(h)return h==t;r|=2,a.set(e,t);var E=eO(s(e),s(t),r,i,o,a);return a.delete(e),E;case"[object Symbol]":if(ef)return ef.call(e)==ef.call(t)}return!1}(e,t,v,n,r,i,o);if(!(1&n)){var T=S&&x.call(e,"__wrapped__"),I=L&&x.call(t,"__wrapped__");if(T||I){var A=T?e.value():e,D=I?t.value():t;return o||(o=new eb),i(A,D,n,r,o)}}return!!C&&(o||(o=new eb),function(e,t,n,r,i,o){var a=1&n,s=eS(e),l=s.length;if(l!=eS(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:x.call(t,u)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var p=!0;o.set(e,t),o.set(t,e);for(var f=a;++c<l;){var h=e[u=s[c]],E=t[u];if(r)var _=a?r(E,h,u,t,e,o):r(h,E,u,e,t,o);if(!(void 0===_?h===E||i(h,E,n,r,o):_)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var g=e.constructor,b=t.constructor;g!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b)&&(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,r,i,o))}(t,n,r,i,e,o):t!=t&&n!=n)}(e,t)}}(D,D.exports)),(a=D.exports)&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default"))?a.default:a;var N=((r=N||{}).FIELD_ID="data-contentful-field-id",r.ENTRY_ID="data-contentful-entry-id",r.ASSET_ID="data-contentful-asset-id",r.LOCALE="data-contentful-locale",r.SPACE="data-contentful-space",r.ENVIRONMENT="data-contentful-environment",r),B=((i=B||{}).MOUSE_MOVE="MOUSE_MOVE",i.SCROLL_START="SCROLL_START",i.SCROLL_END="SCROLL_END",i.RESIZE_START="RESIZE_START",i.RESIZE_END="RESIZE_END",i.TAGGED_ELEMENTS="TAGGED_ELEMENTS",i.INSPECTOR_MODE_CHANGED="INSPECTOR_MODE_CHANGED",i),R={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},M={0:8203,1:8204,2:8205,3:65279};[,,,,].fill(String.fromCodePoint(M[0])).join(""),Object.fromEntries(Object.entries(M).map(e=>e.reverse())),Object.fromEntries(Object.entries(R).map(e=>e.reverse()));var K=`${Object.values(R).map(e=>`\\u{${e.toString(16)}}`).join("")}`,j=RegExp(`[${K}]{4,}`,"gu");let P=e=>!!e&&e.nodeType===Node.ELEMENT_NODE&&!(!e.hasAttribute(N.FIELD_ID)||!e.hasAttribute(N.ENTRY_ID)&&!e.hasAttribute(N.ASSET_ID));function U(e,t){return e.href===t.href}function G({root:e=window.document,options:t}){var n,r;let i;let o=[...t.ignoreManuallyTaggedElements?[]:e.querySelectorAll(`[${N.ASSET_ID}][${N.FIELD_ID}], [${N.ENTRY_ID}][${N.FIELD_ID}]`)].map(e=>({element:e,attributes:function(e,t){if(!P(e))return null;let n={fieldId:e.getAttribute(N.FIELD_ID),locale:e.getAttribute(N.LOCALE)??t.locale,environment:e.getAttribute(N.ENVIRONMENT)??t.environment,space:e.getAttribute(N.SPACE)??t.space,manuallyTagged:!0};if(!n.fieldId)return T.warn("Element is missing field ID attribute and cannot be tagged",{id:e.getAttribute(N.ENTRY_ID)??e.getAttribute(N.ASSET_ID),sharedProps:n}),null;let r=e.getAttribute(N.ENTRY_ID);if(r)return{...n,entryId:r};let i=e.getAttribute(N.ASSET_ID);return i?{...n,assetId:i}:null}(e,t)})).filter(({attributes:e})=>null!==e),a=[];for(let{node:t,text:r}of(n="body"in e?e.body:e,i=[],"function"==typeof n.matches&&n.matches("*")&&(i=[n]),[...i,...Array.from(n.querySelectorAll("*:not(script,style,meta,title)"))].map(e=>({node:e,text:e.matches("input[type=submit], input[type=button], input[type=reset]")?e.value:e.matches("img, video")?e.alt:Array.from(e.childNodes).filter(e=>e.nodeType===Node.TEXT_NODE&&!!e.textContent).map(e=>e.textContent).join("")})).filter(({text:e})=>!!(e&&e.match(j))))){let e=function(e){let t=e.match(S);if(t)return function(e,t=!1){let n=Array.from(e);if(n.length%2==0){if(n.length%4||!e.startsWith(v))return function(e,t){var n;let r=[];for(let t=.5*e.length;t--;){let n=`${m[e[2*t].codePointAt(0)]}${m[e[2*t+1].codePointAt(0)]}`;r.unshift(String.fromCharCode(parseInt(n,16)))}let i=[],o=[r.join("")],a=10;for(;o.length;){let e=o.shift();try{if(i.push(JSON.parse(e)),t)break}catch(r){if(!a--)throw r;let t=+(null==(n=r.message.match(/\sposition\s(\d+)$/))?void 0:n[1]);if(!t)throw r;o.unshift(e.substring(0,t),e.substring(t))}}return i}(n,t)}else throw Error("Encoded data has invalid length");let r=[];for(let e=.25*n.length;e--;){let t=n.slice(4*e,4*e+4).map(e=>y[e.codePointAt(0)]).join("");r.unshift(String.fromCharCode(parseInt(t,4)))}if(t){r.shift();let e=r.indexOf("\0");return -1===e&&(e=r.length),[JSON.parse(r.slice(0,e).join(""))]}return r.join("").split("\0").filter(Boolean).map(e=>JSON.parse(e))}(t[0],!0)[0]}(r);if(!e||!e.origin.includes("contentful.com")){T.warn("Element has missing or invalid ContentSourceMap, please check if you have correctly enabled ContentSourceMaps and that the element's data originates from Contentful",{node:t,sourceMap:e});continue}if(!(function(e,t){for(let n of t)if(n.element===e||n.element.contains(e))return!0;return!1}(t,o)||a.some(n=>n.element.contains(t)&&U(n.sourceMap,e)))){if(t.matches("img")){let n=t.closest("figure")||t.closest("picture")||t;a.push({element:n,sourceMap:e});continue}a.push({element:t,sourceMap:e})}}let s=a.filter((e,t)=>a.findIndex(t=>!(!U(e.sourceMap,t.sourceMap)||e.element!==t.element))===t);for(let{element:e,sourceMap:t}of s){let n=null;if(t.href){let r=function(e){try{let t,n;let r=new URL(e),i=r.searchParams.get("focusedField"),o=r.searchParams.get("focusedLocale"),a=r.pathname.split("/").filter(Boolean),s=a.indexOf("spaces"),l=a.indexOf("environments"),c=-1!==s?a[s+1]:void 0,u=-1!==l?a[l+1]:void 0,d=a.indexOf("entries"),p=a.indexOf("assets");return -1!==d?(t="Entry",n=a[d+1]):-1!==p&&(t="Asset",n=a[p+1]),t&&n?i?o?c&&u?{entityId:n,entityType:t,fieldId:i,locale:o,space:c,environment:u}:(console.warn("Missing space or environment in href path",{href:e}),null):(console.warn("Missing focusedLocale query parameter in href",{href:e}),null):(console.warn("Missing focusedField query parameter in href",{href:e}),null):(console.warn("Unable to determine entityType or entityId from href",{href:e}),null)}catch(t){return console.warn("Invalid href URL",{href:e,error:t}),null}}(t.href);if(!r)continue;if("Asset"===r.entityType)n={fieldId:r.fieldId,locale:r.locale,space:r.space,environment:r.environment,assetId:r.entityId};else if("Entry"===r.entityType)n={fieldId:r.fieldId,locale:r.locale,space:r.space,environment:r.environment,entryId:r.entityId};else{T.warn("Unknown entityType",{element:e,sourceMap:t});continue}}else if(t.contentful&&(r=t.contentful)&&"string"==typeof r.entity&&"string"==typeof r.field&&"string"==typeof r.locale&&"string"==typeof r.space&&"string"==typeof r.environment&&("Asset"===r.entityType||"Entry"===r.entityType)){let r=t.contentful;if(!r.entity||!r.field||!r.locale||!r.space||!r.environment){T.warn("Element has missing information in their ContentSourceMap, please check if you have restricted the platform for the encoding. (Missing parameters in `contentful`)",{element:e,sourceMap:t});continue}let i={fieldId:r.field,locale:r.locale,space:r.space,environment:r.environment};if("Asset"===r.entityType)i.assetId=r.entity,n=i;else if("Entry"===r.entityType)i.entryId=r.entity,n=i;else{T.warn("Unknown entityType in contentful data",{element:e,sourceMap:t});continue}}else{T.warn("Element has neither href nor contentful data in their ContentSourceMap, unable to extract attributes.",{element:e,sourceMap:t});continue}o.push({element:e,attributes:n})}let l=o.filter(({attributes:e})=>(null==e?void 0:e.manuallyTagged)===!1||!(null!=e&&e.manuallyTagged)).length;return{taggedElements:o,manuallyTaggedCount:o.length-l,automaticallyTaggedCount:l,autoTaggedElements:s}}function H({options:e}){return[...new Set(G({options:e}).taggedElements.map(e=>e.attributes&&"entryId"in e.attributes?e.attributes.entryId:null).filter(Boolean))]}let k=(e,t,n=window.document)=>{let{top:r,right:i,bottom:o,left:a}=t,s=n.elementFromPoint(a+1,r+1),l=n.elementFromPoint(i-1,r+1),c=n.elementFromPoint(a+1,o-1),u=n.elementFromPoint(i-1,o-1);return!(s===e&&l===e&&c===e&&u===e)},x=(e,t=window.document)=>e.map(e=>({...e,isVisible:e.element.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}),isCoveredByOtherElement:k(e.element,e.coordinates,t)})),z=e=>e.map(({element:e,attributes:t})=>({element:e,coordinates:e.getBoundingClientRect(),attributes:t})),Y=(e,t=window.document)=>x(z(e),t);class ${constructor(e){_(this,"delay",300),_(this,"isScrolling",!1),_(this,"scrollTimeout"),_(this,"isResizing",!1),_(this,"resizeTimeout"),_(this,"hoveredElement"),_(this,"taggedElements",[]),_(this,"manuallyTaggedCount",0),_(this,"automaticallyTaggedCount",0),_(this,"intersectionObserver"),_(this,"observersCB",[]),_(this,"cleanupCB",[]),_(this,"init",()=>{this.cleanupCB=[this.addScrollListener(),this.addMutationListener(document.body),this.addResizeListener(),this.addHoverListener()],this.updateElements()}),_(this,"cleanup",()=>{this.observersCB.forEach(e=>e()),this.cleanupCB.forEach(e=>e())}),_(this,"receiveMessage",e=>{if(e.method===B.INSPECTOR_MODE_CHANGED){let{isInspectorActive:t}=e;t?this.init():this.cleanup()}}),_(this,"observe",e=>{this.intersectionObserver.observe(e);let t=this.addMutationListener(e);this.observersCB.push(t,()=>this.intersectionObserver.unobserve(e))}),_(this,"addScrollListener",()=>{let{targetOrigin:e}=this.options,t=()=>{this.isScrolling||(this.isScrolling=!0,I(B.SCROLL_START,{},e)),this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(()=>{this.isScrolling=!1,I(B.SCROLL_END,{},e),this.updateElements()},this.delay)},n={capture:!0,passive:!0};return window.addEventListener("scroll",t,n),()=>window.removeEventListener("scroll",t,n)}),_(this,"addMutationListener",e=>{let t=new MutationObserver(()=>{this.updateElements()});return t.observe(e,{characterData:!0,attributes:!0,attributeFilter:[N.ENTRY_ID,N.FIELD_ID,N.LOCALE,N.SPACE,N.ENVIRONMENT,"class","style"],childList:!0,subtree:!0}),()=>t.disconnect()}),_(this,"addResizeListener",()=>{let{targetOrigin:e}=this.options,t=new ResizeObserver(()=>{this.isResizing||(this.isResizing=!0,I(B.RESIZE_START,{},e)),this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{this.isResizing=!1,I(B.RESIZE_END,{},e),this.updateElements()},this.delay)});return t.observe(document.body),()=>t.disconnect()}),_(this,"addHoverListener",()=>{let e=function(e,t=100){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(this,r)},t)}}(e=>{let t;for(let n of e){let e=n;if("BODY"===e.nodeName)break;let r=this.taggedElements.find(t=>t.element===e);if(r){t=r;break}}this.hoveredElement=null==t?void 0:t.element,this.updateElements()},this.delay),t=t=>{e(t.composedPath())};return window.addEventListener("mouseover",t,{passive:!0}),()=>window.removeEventListener("mouseover",t)}),_(this,"sendTaggedElements",()=>{I(B.TAGGED_ELEMENTS,{elements:this.taggedElements.map(e=>({coordinates:e.coordinates,isVisible:!!e.isVisible,attributes:e.attributes,isHovered:this.hoveredElement===e.element,isCoveredByOtherElement:!!e.isCoveredByOtherElement})),automaticallyTaggedCount:this.automaticallyTaggedCount,manuallyTaggedCount:this.manuallyTaggedCount},this.options.targetOrigin)}),_(this,"updateElements",()=>{let{taggedElements:e,manuallyTaggedCount:t,automaticallyTaggedCount:n}=G({options:this.options}),r=Y(e);w(r,this.taggedElements)||(this.observersCB.forEach(e=>e()),this.observersCB=[],this.taggedElements=r,e.forEach(({element:e})=>this.observe(e)),this.manuallyTaggedCount=t,this.automaticallyTaggedCount=n)}),this.options=e,this.intersectionObserver=new IntersectionObserver(e=>{let t=this.taggedElements;for(let n of e)if(n.isIntersecting)for(let e of t)e.element===n.target&&(e.coordinates=n.intersectionRect,e.isVisible=n.target.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}));this.taggedElements=t,this.sendTaggedElements()},{threshold:.15})}}let{stringify:F}=JSON,V=String,q=(e,t)=>t,Z=(e,t,n)=>{let r=V(t.push(n)-1);return e.set(n,r),r},W=(e,t,n)=>{let r=new Map,i=[],o=[],a=+Z(r,i,q.call({"":e},"",e)),s=!a;for(;a<i.length;)s=!0,o[a]=F(i[a++],l,n);return"["+o.join(",")+"]";function l(e,t){if(s)return s=!s,t;let n=q.call(this,e,t);switch(typeof n){case"object":if(null===n)break;case"string":return r.get(n)||Z(r,i,n)}return n}};var J=((o=J||{}).CONNECTED="CONNECTED",o.DISCONNECTED="DISCONNECTED",o.ERROR="ERROR",o.TAGGED_FIELD_CLICKED="TAGGED_FIELD_CLICKED",o.URL_CHANGED="URL_CHANGED",o.SUBSCRIBED="SUBSCRIBED",o.UNSUBSCRIBED="UNSUBSCRIBED",o.ENTRY_UPDATED="ENTRY_UPDATED",o.ENTRY_SAVED="ENTRY_SAVED",o.DEBUG_MODE_ENABLED="DEBUG_MODE_ENABLED",o);class Q{constructor({locale:e,targetOrigin:t}){_(this,"subscriptions",new Map),_(this,"defaultLocale"),_(this,"sendMessage"),this.defaultLocale=e,this.sendMessage=(e,n)=>I(e,n,t)}async receiveMessage(e){if(e.method===J.ENTRY_UPDATED){let{data:t,subscriptionId:n}=e,r=this.subscriptions.get(n);r?(r.callback(t),r.data=t,this.subscriptions.set(n,r)):T.error("Received an update for an unknown subscription",{subscriptionId:n,data:t,subscriptions:this.subscriptions})}}subscribe(e){let t=`${performance.now()}-${Math.random().toString(36).slice(2)}`,n=e.locale??this.defaultLocale;this.subscriptions.set(t,{...e});let r={locale:n,event:"edit",id:t,config:W(e)};return this.sendMessage(J.SUBSCRIBED,r),()=>{this.sendMessage(J.UNSUBSCRIBED,r),this.subscriptions.delete(t)}}}class X{constructor({locale:e,options:t,inspectorModeEnabled:n}){_(this,"locale"),_(this,"options"),_(this,"inspectorModeEnabled"),_(this,"subscription"),this.locale=e,this.options=t,this.inspectorModeEnabled=n}subscribe(e){return this.subscription&&T.log("There is already a subscription for the save event, the existing one will be replaced."),this.subscription=e,()=>{this.subscription=void 0}}receiveMessage(e){if(e.method===J.ENTRY_SAVED&&this.subscription){let{entity:t}=e;this.inspectorModeEnabled?H({options:this.options}).includes(t.sys.id)&&this.subscription(t):this.subscription(t)}}}let ee=["https://app.contentful.com","https://app.eu.contentful.com","http://localhost:3001"],et=class e{static init(t){var n;if("object"!=typeof t||!(null!=t&&t.locale))throw Error("Init function has to be called with a locale configuration (for example: `ContentfulLivePreview.init({ locale: 'en-US'})`)");let{debugMode:r,enableInspectorMode:i,enableLiveUpdates:o,locale:a,environment:s,space:l,targetOrigin:c}=t;if("u">typeof window){if(!function(){var e;try{return(null==(e=window.top)?void 0:e.location.href)!==window.location.href}catch{return!0}}())return this.liveUpdatesEnabled=!1,Promise.resolve(null);if(r&&(L=r),"boolean"==typeof i&&(this.inspectorModeEnabled=i),"boolean"==typeof o&&(this.liveUpdatesEnabled=o),this.locale=a,this.space=l,this.environment=s,this.initTargetOrigin(c),this.initialized)return T.log("You have already initialized the Live Preview SDK."),Promise.resolve(e.inspectorMode);this.inspectorModeEnabled&&(this.inspectorMode=new $({locale:a,space:l,environment:s,targetOrigin:this.targetOrigin,ignoreManuallyTaggedElements:null==(n=t.experimental)?void 0:n.ignoreManuallyTaggedElements})),this.liveUpdatesEnabled&&(this.liveUpdates=new Q({locale:a,targetOrigin:this.targetOrigin}),this.saveEvent=new X({locale:a,options:{locale:this.locale,space:this.space,environment:this.environment,targetOrigin:this.targetOrigin},inspectorModeEnabled:this.inspectorModeEnabled})),window.addEventListener("message",e=>{var t,n,r;if("object"==typeof e.data&&e.data&&"source"in e.data&&"live-preview-editor"===e.data.source){if(T.log("Received message",e.data),e.data.method===J.DEBUG_MODE_ENABLED){L=!0;return}this.inspectorModeEnabled&&(null==(t=this.inspectorMode)||t.receiveMessage(e.data)),this.liveUpdatesEnabled&&(null==(n=this.liveUpdates)||n.receiveMessage(e.data),null==(r=this.saveEvent)||r.receiveMessage(e.data))}}),function(e,t=500){let n=window.location.href;setInterval(()=>{let t=window.location.href;t!==n&&(n=t,e(t))},t)}(()=>{I(J.URL_CHANGED,{action:J.URL_CHANGED,taggedElementCount:document.querySelectorAll(`[${N.ENTRY_ID}]`).length},this.targetOrigin)});let{taggedElements:u,manuallyTaggedCount:d,automaticallyTaggedCount:p}=this.inspectorModeEnabled?G({options:{locale:this.locale,space:this.space,environment:this.environment}}):{taggedElements:[],manuallyTaggedCount:0,automaticallyTaggedCount:0},f=u.length;return I(J.CONNECTED,{action:J.CONNECTED,connected:!0,tags:f,taggedElementCount:f,locale:this.locale,isInspectorEnabled:this.inspectorModeEnabled,isLiveUpdatesEnabled:this.liveUpdatesEnabled,manuallyTaggedElementCount:d,automaticallyTaggedElementCount:p},this.targetOrigin),this.initialized=!0,Promise.resolve(e.inspectorMode)}}static initTargetOrigin(e){if(e)this.targetOrigin=Array.isArray(e)?e:[e];else{let e=window.location.ancestorOrigins,t=e?ee.find(t=>e.contains(t)):ee.find(e=>document.referrer.includes(e));if(!t)throw Error("The current origin is not supported. Please provide a targetOrigin in the live preview configuration.");this.targetOrigin=[t]}}static subscribe(e,t){if(!this.liveUpdatesEnabled)return()=>{};let n="string"==typeof e?e:"edit",r="object"==typeof e?e:t;if("save"===n){if(!this.saveEvent)throw Error("Save event is not initialized, please call `ContentfulLivePreview.init()` first.");return this.saveEvent.subscribe(r.callback)}if(!this.liveUpdates)throw Error("Live updates are not initialized, please call `ContentfulLivePreview.init()` first.");return this.liveUpdates.subscribe(r)}static getProps(e){let{fieldId:t,locale:n,environment:r,space:i}=e;if(!this.inspectorModeEnabled)return null;if(t){let o={...n?{[N.LOCALE]:n}:{},...r?{[N.ENVIRONMENT]:r}:{},...i?{[N.SPACE]:i}:{},[N.FIELD_ID]:t};if(n&&(o[N.LOCALE]=n),void 0!==e.assetId)return{...o,[N.ASSET_ID]:e.assetId};if(void 0!==e.entryId)return{...o,[N.ENTRY_ID]:e.entryId}}return T.warn("Missing property for inspector mode",{...e}),null}static toggleInspectorMode(){return this.inspectorModeEnabled=!this.inspectorModeEnabled,this.inspectorModeEnabled}static toggleLiveUpdatesMode(){return this.liveUpdatesEnabled=!this.liveUpdatesEnabled,this.liveUpdatesEnabled}static openEntryInEditor(e){var t,n,r,i;let o={locale:this.locale,environment:this.environment,space:this.space};if(void 0!==e.assetId&&e.fieldId){t={...o,...e},n=this.targetOrigin,I("TAGGED_FIELD_CLICKED",{action:"TAGGED_FIELD_CLICKED",...t},n);return}if(void 0!==e.entryId&&e.fieldId){r={...o,...e},i=this.targetOrigin,I("TAGGED_FIELD_CLICKED",{action:"TAGGED_FIELD_CLICKED",...r},i);return}T.error("Please provide field id and entry/asset id to openEntryInEditor.",{...e})}static getEntryList(){return H({options:{locale:this.locale,space:this.space,environment:this.environment}})}};_(et,"initialized",!1),_(et,"inspectorMode",null),_(et,"liveUpdates",null),_(et,"saveEvent",null),_(et,"inspectorModeEnabled",!0),_(et,"liveUpdatesEnabled",!0),_(et,"locale"),_(et,"space"),_(et,"environment"),_(et,"sendMessage"),_(et,"targetOrigin");let en=(0,f.createContext)(null);function er({children:e,locale:t,space:n,environment:r,debugMode:i=!1,enableInspectorMode:o=!0,enableLiveUpdates:a=!0,targetOrigin:s,experimental:l}){if(!t)throw Error('ContentfulLivePreviewProvider has to be called with a locale property (for example: `<ContentfulLivePreviewProvider locale="en-US">{children}</ContentfulLivePreviewProvider>`');et.init({locale:t,space:n,environment:r,debugMode:i,enableInspectorMode:o,enableLiveUpdates:a,targetOrigin:s,experimental:l});let c=(0,f.useMemo)(()=>({locale:t,space:n,environment:r,debugMode:i,enableInspectorMode:o,enableLiveUpdates:a,targetOrigin:s}),[t,n,r,i,o,a,s]);return(0,p.jsx)(en.Provider,{value:c,children:e})}function ei(e){let t=(0,f.useContext)(en);return(0,f.useCallback)(n=>null!=t&&t.enableInspectorMode?et.getProps({...e,...n}):null,[null==t?void 0:t.enableInspectorMode,e])}}}]);